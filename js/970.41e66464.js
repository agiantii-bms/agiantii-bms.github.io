"use strict";(self["webpackChunkbook_manage_system"]=self["webpackChunkbook_manage_system"]||[]).push([[970],{5970:function(o,r,e){e.r(r),e.d(r,{default:function(){return l}});var t=function(){var o=this,r=o._self._c;return r("div",{staticClass:"borrowbook_container"},[o._m(0),r("div",{staticClass:"banner"},[r("div",{staticClass:"card_number"},[r("el-input",{attrs:{placeholder:"请输入借阅证号"},model:{value:o.borrowInfo.cardNumber,callback:function(r){o.$set(o.borrowInfo,"cardNumber",o._n(r))},expression:"borrowInfo.cardNumber"}},[r("el-button",{attrs:{slot:"prepend",icon:"el-icon-notebook-2"},slot:"prepend"})],1)],1),r("div",{staticClass:"book_number"},[r("el-input",{attrs:{placeholder:"请输入图书编号"},model:{value:o.borrowInfo.bookNumber,callback:function(r){o.$set(o.borrowInfo,"bookNumber",o._n(r))},expression:"borrowInfo.bookNumber"}},[r("el-button",{attrs:{slot:"prepend",icon:"el-icon-collection"},slot:"prepend"})],1)],1),r("div",{staticClass:"borrow_date"},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:o.borrowInfo.borrowDate,callback:function(r){o.$set(o.borrowInfo,"borrowDate",r)},expression:"borrowInfo.borrowDate"}})],1),r("div",{staticClass:"borrow_button"},[r("el-button",{attrs:{type:"primary"},on:{click:o.borrowBook}},[o._v("借阅")])],1)])])},s=[function(){var o=this,r=o._self._c;return r("div",{staticClass:"header"},[r("p",[o._v("借阅图书")])])}],a={data(){return{borrowInfo:{cardNumber:"",bookNumber:"",borrowDate:"",bookAdminId:0}}},methods:{async borrowBook(){if(""===this.borrowInfo.borrowDate)return this.$message.error({message:"借阅时间不能为空",duration:1e3});this.borrowInfo.bookAdminId=parseInt(window.sessionStorage.getItem("bookAdminId"));const{data:o}=await this.$http.post("bookadmin/borrow_book",this.borrowInfo);if(200!==o.status)return this.$message.error(o.msg);this.$message.success(o.msg),this.borrowInfo.bookNumber="",this.borrowInfo.cardNumber="",this.borrowInfo.borrowDate=""}}},n=a,b=e(1001),i=(0,b.Z)(n,t,s,!1,null,"6b1fa97a",null),l=i.exports}}]);
//# sourceMappingURL=970.41e66464.js.map
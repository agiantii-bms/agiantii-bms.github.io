"use strict";(self["webpackChunkbook_manage_system"]=self["webpackChunkbook_manage_system"]||[]).push([[269],{4269:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var i=function(){var t=this,e=t._self._c;return e("div",[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",[t._v("系统管理")]),e("el-breadcrumb-item",[t._v("借阅量查询")])],1),e("div",{staticStyle:{width:"100%",height:"500px"}},[e("ChartLine",{ref:"chart_line_one"})],1),e("div",{staticStyle:{width:"100%",height:"500px","margin-top":"50px"}},[e("PieChart",{ref:"chart_pie_one"})],1)],1)},r=[],s=(a(7658),function(){var t=this,e=t._self._c;return e("div",{style:{width:"100%",height:"100%"},attrs:{id:"echart-line"}})}),n=[],o=a(3805),l={methods:{initChart(t,e,a){let i=o.init(document.getElementById("echart-line"));var r={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:[t],bottom:"0%"},grid:{top:"10%",left:"10%",right:"10%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e,axisLabel:{formatter:"{value}",align:"center"}},yAxis:{type:"value"},series:[{name:t,type:"line",data:a,barWidth:"20%"}]};i.setOption(r),window.addEventListener("resize",(()=>{i.resize()}))}}},h=l,d=a(1001),u=(0,d.Z)(h,s,n,!1,null,null,null),m=u.exports,c=function(){var t=this,e=t._self._c;return e("div",{style:{width:"100%",height:"100%"},attrs:{id:"echart-pie"}})},p=[],g={methods:{initChart(t){var e=document.getElementById("echart-pie"),a=o.init(e),i={title:{text:"借书类型分析统计图",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"借书类型分析统计图",type:"pie",radius:"50%",data:t,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};i&&a.setOption(i)}}},f=g,b=(0,d.Z)(f,c,p,!1,null,null,null),y=b.exports,_=a(5941),v={data(){return{name:"借阅量",xData:["","2020-03","2020-04","2020-05"],yData:[30,132,80,134],allData:{xData:["","2020-03","2020-04","2020-05"],yData:[30,132,80,134]},pieData:[]}},methods:{},async mounted(){const{data:t}=await this.$http.get("admin/get_borrowdata");if(200!==t.status)return this.$message.error(t.msg);this.$message.success({message:t.msg,duration:800});const{data:e}=await this.$http.get("admin/get_borrowtype_statistics");if(200!==e.status)return this.$message.error(e.msg);for(var a of(this.$message.success({message:e.msg,duration:800}),_.log(e),e.data))this.pieData.push({name:a.bookTypes,value:a.borrowNumbers});this.allData.xData=t.data.borrowDates,this.allData.yData=t.data.borrowNumber,this.$refs.chart_line_one.initChart(this.name,this.allData.xData,this.allData.yData),this.$refs.chart_pie_one.initChart(this.pieData)},components:{ChartLine:m,PieChart:y}},w=v,x=(0,d.Z)(w,i,r,!1,null,null,null),D=x.exports}}]);
//# sourceMappingURL=269.5234fa23.js.map
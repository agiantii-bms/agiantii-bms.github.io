{"version":3,"file":"js/418.ae3ce5f9.js","mappings":"gLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,gBAAgB,CAACG,MAAM,CAAC,kBAAkB,wBAAwB,CAACH,EAAG,qBAAqB,CAACF,EAAIM,GAAG,QAAQJ,EAAG,qBAAqB,CAACF,EAAIM,GAAG,WAAW,GAAGJ,EAAG,UAAU,CAACG,MAAM,CAAC,OAAS,WAAW,CAACH,EAAG,SAAS,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIS,eAAe,IAAI,CAACP,EAAG,IAAI,CAACE,YAAY,wBAAwBJ,EAAIM,GAAG,aAAa,IAAI,GAAGJ,EAAG,WAAW,CAACQ,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOb,EAAIc,QAASC,WAAW,YAAYC,YAAY,CAAC,MAAQ,QAAQX,MAAM,CAAC,KAAOL,EAAIiB,UAAU,OAAS,GAAG,OAAS,GAAG,uBAAuB,QAAQ,0BAA0B,kBAAkB,6BAA6B,uBAAuB,CAACf,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,gBAAgB,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,aAAa,MAAQ,UAAUH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,MAAMa,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACpB,EAAG,aAAa,CAACG,MAAM,CAAC,OAAS,OAAO,QAAU,KAAK,UAAY,MAAM,WAAY,IAAQ,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,eAAe,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIuB,eAAeD,EAAME,IAAIC,SAAS,MAAM,GAAGvB,EAAG,aAAa,CAACG,MAAM,CAAC,OAAS,OAAO,QAAU,KAAK,UAAY,MAAM,WAAY,IAAQ,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI0B,eAAeJ,EAAME,IAAIC,SAAS,MAAM,GAAG,QAAQ,GAAGvB,EAAG,gBAAgB,CAACG,MAAM,CAAC,eAAeL,EAAI2B,UAAUC,QAAQ,aAAa,CAAC,EAAG,EAAG,EAAG,EAAE,GAAG,YAAY5B,EAAI2B,UAAUE,SAAS,OAAS,0CAA0C,MAAQ5B,KAAK6B,OAAOvB,GAAG,CAAC,cAAcP,EAAI+B,iBAAiB,iBAAiB/B,EAAIgC,uBAAuB9B,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUL,EAAIiC,kBAAkB,MAAQ,OAAO1B,GAAG,CAAC,iBAAiB,SAASC,GAAQR,EAAIiC,kBAAkBzB,CAAM,EAAE,MAAQR,EAAIkC,mBAAmB,CAAChC,EAAG,UAAU,CAACiC,IAAI,cAAc9B,MAAM,CAAC,MAAQL,EAAIoC,SAAS,MAAQpC,EAAIqC,cAAc,cAAc,UAAU,CAACnC,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,gBAAgB,CAACH,EAAG,WAAW,CAACoC,MAAM,CAACzB,MAAOb,EAAIoC,SAASG,YAAaC,SAAS,SAAUC,GAAMzC,EAAI0C,KAAK1C,EAAIoC,SAAU,cAAeK,EAAI,EAAE1B,WAAW,2BAA2B,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,kBAAkB,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,YAAYiC,MAAM,CAACzB,MAAOb,EAAIoC,SAASO,cAAeH,SAAS,SAAUC,GAAMzC,EAAI0C,KAAK1C,EAAIoC,SAAU,gBAAiBK,EAAI,EAAE1B,WAAW,6BAA6B,IAAI,GAAGb,EAAG,OAAO,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAUuC,KAAK,UAAU,CAAC1C,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIiC,mBAAoB,CAAK,IAAI,CAACjC,EAAIM,GAAG,SAASJ,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,MAAQP,EAAI6C,iBAAiB,CAAC7C,EAAIM,GAAG,UAAU,IAAI,GAAGJ,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUL,EAAI8C,iBAAiB,MAAQ,OAAOvC,GAAG,CAAC,iBAAiB,SAASC,GAAQR,EAAI8C,iBAAiBtC,CAAM,EAAE,MAAQR,EAAI+C,kBAAkB,CAAC7C,EAAG,UAAU,CAACiC,IAAI,aAAa9B,MAAM,CAAC,MAAQL,EAAIgD,QAAQ,MAAQhD,EAAIiD,aAAa,cAAc,UAAU,CAAC/C,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,gBAAgB,CAACH,EAAG,WAAW,CAACoC,MAAM,CAACzB,MAAOb,EAAIgD,QAAQT,YAAaC,SAAS,SAAUC,GAAMzC,EAAI0C,KAAK1C,EAAIgD,QAAS,cAAeP,EAAI,EAAE1B,WAAW,0BAA0B,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,kBAAkB,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,YAAYiC,MAAM,CAACzB,MAAOb,EAAIgD,QAAQL,cAAeH,SAAS,SAAUC,GAAMzC,EAAI0C,KAAK1C,EAAIgD,QAAS,gBAAiBP,EAAI,EAAE1B,WAAW,4BAA4B,IAAI,GAAGb,EAAG,OAAO,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAUuC,KAAK,UAAU,CAAC1C,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAI8C,kBAAmB,CAAK,IAAI,CAAC9C,EAAIM,GAAG,SAASJ,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,MAAQP,EAAIkD,YAAY,CAAClD,EAAIM,GAAG,WAAW,IAAI,IAAI,IAAI,EACpiI,EACI6C,EAAkB,G,UCsItB,GACAC,OACA,OAEAnC,UAAAA,GAEAgB,mBAAAA,EACAG,SAAAA,CACAG,YAAAA,GACAI,cAAAA,IAEAN,cAAAA,CACAE,YAAAA,CACA,CAAAc,UAAAA,EAAAC,QAAAA,UAAAC,QAAAA,QACA,CACAC,IAAAA,EACAC,IAAAA,GACAH,QAAAA,aACAC,QAAAA,SAGAZ,cAAAA,CACA,CAAAU,UAAAA,EAAAC,QAAAA,UAAAC,QAAAA,UAGAT,kBAAAA,EACAE,QAAAA,CACAT,YAAAA,GACAI,cAAAA,GACAe,cAAAA,GAEAT,aAAAA,CACAV,YAAAA,CACA,CAAAc,UAAAA,EAAAC,QAAAA,UAAAC,QAAAA,QACA,CACAC,IAAAA,EACAC,IAAAA,GACAH,QAAAA,aACAC,QAAAA,SAGAZ,cAAAA,CACA,CAAAU,UAAAA,EAAAC,QAAAA,UAAAC,QAAAA,UAGA5B,UAAAA,CACAC,QAAAA,EACAC,SAAAA,GAEAC,MAAAA,EACAhB,SAAAA,EAEA,EACA6C,QAAAA,CACA5B,iBAAAA,GACA,0BAEA,oBACA,EACAC,oBAAAA,GACA,yBAEA,oBACA,EAEA,wBACA,gBACA,MAAAoB,KAAAA,SAAA,0CACA,kBAEA,kCAGA,qBAEA,yBAEA,EAEAlB,mBACA,oCACA,EAEA,uBACA,MAAAkB,KAAAA,SAAA,kEACAb,YAAAA,KAAAA,SAAAA,YACAI,cAAAA,KAAAA,SAAAA,gBAEA,kBACA,kCAGA,0BACA,qBACA,4BACA,EAEA,wBAEA,4BACA,qBACA,KACA,CACAiB,kBAAAA,KACAC,iBAAAA,KACAC,KAAAA,YAEA,UACA,IAKA,iBACA,oCAGA,MAAAV,KAAAA,SAAA,6CACA,kBACA,kCAEA,uBACAE,QAAAA,EAAAA,IACAS,SAAAA,OAEA,oBACA,EAEAhB,kBACA,mCACA,EAEAtC,gBACA,wBACA,EACA,sBACA,gBACA,MAAA2C,KAAAA,SAAA,2DAIA,GADA,kBACA,eAGA,OAFA,aACA,gBACA,2BAEA,uBACAE,QAAAA,EAAAA,IACAS,SAAAA,MAEA,8BACA,kCACA,eACA,EACA,kBAEA,yBAEA,kFAEA,MAAAX,KAAAA,SAAA,qDAEA,GADAY,EAAAA,IAAAA,GACA,eACA,kCAEA,uBACAV,QAAAA,EAAAA,IACAS,SAAAA,MAEA,oBAEA,GAEAE,UACA,oBACA,GCvTqQ,I,UCOjQC,GAAY,OACd,EACAnE,EACAoD,GACA,EACA,KACA,KACA,MAIF,EAAee,EAAiB,O","sources":["webpack://book_manage_system/./src/components/BookManage/NoticeManage.vue","webpack://book_manage_system/src/components/BookManage/NoticeManage.vue","webpack://book_manage_system/./src/components/BookManage/NoticeManage.vue?8a36","webpack://book_manage_system/./src/components/BookManage/NoticeManage.vue?27dc"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search_container\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"发布公告\")])],1),_c('el-card',{attrs:{\"shadow\":\"always\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.showAddDialog()}}},[_c('i',{staticClass:\"el-icon-s-promotion\"}),_vm._v(\" 发布新公告\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\",\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"}},[_c('el-table-column',{attrs:{\"prop\":\"noticeId\",\"label\":\"ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"noticeTitle\",\"label\":\"标题\"}}),_c('el-table-column',{attrs:{\"prop\":\"noticeContent\",\"label\":\"公告\"}}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"发布日期\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"修改\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.noticeId)}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"删除\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.noticeId)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pageNum,\"page-sizes\":[1, 2, 3, 4,5],\"page-size\":_vm.queryInfo.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":this.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"修改公告\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"公告标题\",\"prop\":\"noticeTitle\"}},[_c('el-input',{model:{value:(_vm.editForm.noticeTitle),callback:function ($$v) {_vm.$set(_vm.editForm, \"noticeTitle\", $$v)},expression:\"editForm.noticeTitle\"}})],1),_c('el-form-item',{attrs:{\"label\":\"公告内容\",\"prop\":\"noticeContent\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.editForm.noticeContent),callback:function ($$v) {_vm.$set(_vm.editForm, \"noticeContent\", $$v)},expression:\"editForm.noticeContent\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editNoticeById}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加公告\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"公告标题\",\"prop\":\"noticeTitle\"}},[_c('el-input',{model:{value:(_vm.addForm.noticeTitle),callback:function ($$v) {_vm.$set(_vm.addForm, \"noticeTitle\", $$v)},expression:\"addForm.noticeTitle\"}})],1),_c('el-form-item',{attrs:{\"label\":\"公告内容\",\"prop\":\"noticeContent\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.addForm.noticeContent),callback:function ($$v) {_vm.$set(_vm.addForm, \"noticeContent\", $$v)},expression:\"addForm.noticeContent\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addNotice}},[_vm._v(\"添加公告\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search_container\">\r\n    <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item>首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>发布公告</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card shadow=\"always\">\r\n      <!-- 搜索内容和导出区域 -->\r\n      <el-row>\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"showAddDialog()\">\r\n            <i class=\"el-icon-s-promotion\"></i> 发布新公告</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 表格区域 -->\r\n      <el-table :data=\"tableData\" border style=\"width: 100%\" stripe\r\n      v-loading=\"loading\"\r\n        element-loading-text=\"拼命加载中\"\r\n        element-loading-spinner=\"el-icon-loading\"\r\n        element-loading-background=\"rgba(0, 0, 0, 0.8)\">\r\n        <el-table-column prop=\"noticeId\" label=\"ID\"> </el-table-column>\r\n        <el-table-column prop=\"noticeTitle\" label=\"标题\"> </el-table-column>\r\n        <el-table-column prop=\"noticeContent\" label=\"公告\"> </el-table-column>\r\n        <el-table-column prop=\"createTime\" label=\"发布日期\"> </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-tooltip\r\n              effect=\"dark\"\r\n              content=\"修改\"\r\n              placement=\"top\"\r\n              :enterable=\"false\"\r\n            >\r\n              <el-button\r\n                type=\"primary\"\r\n                icon=\"el-icon-edit\"\r\n                size=\"mini\"\r\n                @click=\"showEditDialog(scope.row.noticeId)\"\r\n              ></el-button\r\n            ></el-tooltip>\r\n\r\n            <!-- 删除按钮 -->\r\n            <el-tooltip\r\n              effect=\"dark\"\r\n              content=\"删除\"\r\n              placement=\"top\"\r\n              :enterable=\"false\"\r\n            >\r\n              <el-button\r\n                type=\"danger\"\r\n                icon=\"el-icon-delete\"\r\n                size=\"mini\"\r\n                @click=\"removeUserById(scope.row.noticeId)\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页查询区域 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.pageNum\"\r\n        :page-sizes=\"[1, 2, 3, 4,5]\"\r\n        :page-size=\"queryInfo.pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"this.total\"\r\n      >\r\n      </el-pagination>\r\n      <!-- 修改公告的对话框 -->\r\n      <el-dialog\r\n        title=\"修改公告\"\r\n        :visible.sync=\"editDialogVisible\"\r\n        width=\"50%\"\r\n        @close=\"editDialogClosed\"\r\n      >\r\n        <el-form\r\n          :model=\"editForm\"\r\n          ref=\"editFormRef\"\r\n          :rules=\"editFormRules\"\r\n          label-width=\"100px\"\r\n        >\r\n          <el-form-item label=\"公告标题\" prop=\"noticeTitle\">\r\n            <el-input v-model=\"editForm.noticeTitle\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"公告内容\" prop=\"noticeContent\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              v-model=\"editForm.noticeContent\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"editNoticeById\"\r\n            >确 定</el-button\r\n          >\r\n        </span>\r\n      </el-dialog>\r\n      <!-- 添加公告的对话框 -->\r\n      <el-dialog\r\n        title=\"添加公告\"\r\n        :visible.sync=\"addDialogVisible\"\r\n        width=\"50%\"\r\n        @close=\"addDialogClosed\"\r\n      >\r\n        <el-form\r\n          :model=\"addForm\"\r\n          ref=\"addFormRef\"\r\n          :rules=\"addFormRules\"\r\n          label-width=\"100px\"\r\n        >\r\n          <el-form-item label=\"公告标题\" prop=\"noticeTitle\">\r\n            <el-input v-model=\"addForm.noticeTitle\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"公告内容\" prop=\"noticeContent\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              v-model=\"addForm.noticeContent\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addNotice\"\r\n            >添加公告</el-button\r\n          >\r\n        </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n    \r\n      tableData: [],\r\n      \r\n      editDialogVisible: false,\r\n      editForm: {\r\n        noticeTitle: \"\",\r\n        noticeContent: \"\",\r\n      },\r\n      editFormRules: {\r\n        noticeTitle: [\r\n          { required: true, message: \"请输入公告标题\", trigger: \"blur\" },\r\n          {\r\n            min: 6,\r\n            max: 30,\r\n            message: \"长度在6到30个字符\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        noticeContent: [\r\n          { required: true, message: \"请输入公告内容\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      addDialogVisible:false,\r\n      addForm:{\r\n        noticeTitle:\"\",\r\n        noticeContent:\"\",\r\n        noticeAdminId:0\r\n      },\r\n      addFormRules:{\r\n        noticeTitle: [\r\n          { required: true, message: \"请输入公告标题\", trigger: \"blur\" },\r\n          {\r\n            min: 6,\r\n            max: 30,\r\n            message: \"长度在6到30个字符\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        noticeContent: [\r\n          { required: true, message: \"请输入公告内容\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      queryInfo: {\r\n        pageNum: 1,\r\n        pageSize: 5,\r\n      },\r\n      total: 0,\r\n      loading:true\r\n    };\r\n  },\r\n  methods: {\r\n    handleSizeChange(val) {\r\n      this.queryInfo.pageSize = val;\r\n\r\n      this.getNoticeList();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.queryInfo.pageNum = val;\r\n\r\n      this.getNoticeList();\r\n    },\r\n    //让修改公告的对话框可见,并从数据库中回显数据\r\n    async showEditDialog(id) {\r\n      this.loading = true;\r\n      const {data:res} = await this.$http.get('bookadmin/get_notice/'+id);\r\n      if(res.status !== 200){\r\n      \r\n        return this.$message.error(res.msg)\r\n      }\r\n      // console.log(res);\r\n      this.editForm = res.data;\r\n      // 让修改公告的对话框可见\r\n      this.editDialogVisible = true;\r\n      \r\n    },\r\n    //监听修改对话框的关闭，一旦对话框关闭，就重置表单，回显数据\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields();\r\n    },\r\n    // 修改公告根据公告id\r\n    async editNoticeById(){\r\n      const {data:res} = await this.$http.put('bookadmin/update_notice/'+this.editForm.noticeId,{\r\n        noticeTitle:this.editForm.noticeTitle,\r\n        noticeContent:this.editForm.noticeContent\r\n      })\r\n      if(res.status !== 200){\r\n        return this.$message.error(res.msg)\r\n      }\r\n      // 对话框不可见\r\n      this.editDialogVisible = false;\r\n      this.getNoticeList();\r\n      this.$message.success(res.msg)\r\n    },\r\n    //删除公告\r\n    async removeUserById(id) {\r\n      //弹框，询问用户是否删除数据\r\n      const confirmResult = await this.$confirm(\r\n        \"此操作将永久删除该公告, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((error) => {\r\n        return error;\r\n      });\r\n      //如果用户确认删除，则返回值为字符串confirm\r\n      //如果用户取消删除，则返回值为字符串cancel\r\n      // console.log(confirmResult);\r\n      if (confirmResult !== \"confirm\") {\r\n        return this.$message.info(\"已经取消删除\");\r\n      }\r\n      //如果用户确认删除，那么下一步就是发送axios请求，检查响应状态码是否成功,成功则返回删除成功，否则返回删除失败\r\n      const {data:res} = await this.$http.get('bookadmin/delete_notice/'+id)\r\n      if (res.status !== 200) {\r\n        return this.$message.error(res.msg);\r\n      }\r\n      this.$message.success({\r\n        message: res.msg,\r\n        duration: 1500,\r\n      });\r\n      this.getNoticeList();\r\n    },\r\n    //监听添加公告对话框的关闭，一旦对话框关闭，就重置表单\r\n    addDialogClosed(){\r\n      this.$refs.addFormRef.resetFields();\r\n    },\r\n    //当用户点击发送新公告时，让添加对话框的visible改为true\r\n    showAddDialog(){\r\n        this.addDialogVisible = true;\r\n    },\r\n    async getNoticeList(){\r\n      this.loading = true;\r\n      const {data:res} = await this.$http.post('bookadmin/get_noticelist',this.queryInfo)\r\n      // console.log(res);\r\n      \r\n      this.tableData = [];\r\n      if (res.status !== 200) {\r\n        this.total = 0;\r\n        this.loading = false;\r\n        return this.$message.error(res.msg);\r\n      }\r\n      this.$message.success({\r\n        message: res.msg,\r\n        duration: 1000,\r\n      });\r\n      this.tableData = res.data.records;\r\n       this.total = parseInt(res.data.total);\r\n      this.loading = false;\r\n    },\r\n    async addNotice(){\r\n      // 取消可见性\r\n      this.addDialogVisible = false;\r\n      // 获取图书管理员id\r\n      this.addForm.noticeAdminId = parseInt(window.sessionStorage.getItem('bookAdminId'))\r\n      // 发送axios请求添加公告\r\n      const {data:res} = await this.$http.post('bookadmin/add_notice',this.addForm)\r\n      console.log(res);\r\n      if(res.status!== 200){\r\n        return this.$message.error(res.msg)\r\n      }\r\n      this.$message.success({\r\n        message:res.msg,\r\n        duration:1000\r\n      })\r\n      this.getNoticeList();\r\n\r\n    }\r\n  },\r\n  created(){\r\n    this.getNoticeList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NoticeManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NoticeManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NoticeManage.vue?vue&type=template&id=fc12bc36&\"\nimport script from \"./NoticeManage.vue?vue&type=script&lang=js&\"\nexport * from \"./NoticeManage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","on","$event","showAddDialog","directives","name","rawName","value","loading","expression","staticStyle","tableData","scopedSlots","_u","key","fn","scope","showEditDialog","row","noticeId","removeUserById","queryInfo","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","editDialogVisible","editDialogClosed","ref","editForm","editFormRules","model","noticeTitle","callback","$$v","$set","noticeContent","slot","editNoticeById","addDialogVisible","addDialogClosed","addForm","addFormRules","addNotice","staticRenderFns","data","required","message","trigger","min","max","noticeAdminId","methods","confirmButtonText","cancelButtonText","type","duration","console","created","component"],"sourceRoot":""}